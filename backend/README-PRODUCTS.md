# üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ FastElit

## üé¨ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –≤–∏–¥–µ–æ

### üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã:

1. **FFmpeg** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–≤—å—é –≤–∏–¥–µ–æ:
   ```bash
   # Windows (—á–µ—Ä–µ–∑ Chocolatey)
   choco install ffmpeg
   
   # Windows (—á–µ—Ä–µ–∑ Scoop)
   scoop install ffmpeg
   
   # macOS
   brew install ffmpeg
   
   # Ubuntu/Debian
   sudo apt-get install ffmpeg
   ```

2. **–í–∏–¥–µ–æ—Ñ–∞–π–ª—ã** –≤ —Ñ–æ—Ä–º–∞—Ç–µ MP4, MOV, AVI –∏ –¥—Ä.

### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

#### 1. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–¥—É–∫—Ç (–±–µ–∑ –≤–∏–¥–µ–æ):
```bash
cd backend
npm run add-product
```

#### 2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç —Å –≤–∏–¥–µ–æ:
```bash
cd backend
npm run upload-video
```

### üìù –°–∫—Ä–∏–ø—Ç—ã

#### `add-product.ts` - –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
–°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã —Å –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –±–µ–∑ –≤–∏–¥–µ–æ.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
await addProduct({
  title: "iPhone 15 Pro Max",
  description: "–ù–æ–≤—ã–π iPhone 15 Pro Max –≤ –∏–¥–µ–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏...",
  price: 120000,
  videoPath: "/videos/iphone15_review.mp4", // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  sellerTelegramId: "123456789",
  sellerUsername: "tech_seller",
  sellerAvatarUrl: "https://example.com/avatars/tech.jpg"
});
```

#### `upload-video.ts` - –ü—Ä–æ–¥—É–∫—Ç—ã —Å –≤–∏–¥–µ–æ –∏ –ø—Ä–µ–≤—å—é
–°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã —Å –≤–∏–¥–µ–æ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–µ–≤—å—é –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –∫–∞–¥—Ä–∞.

**–§—É–Ω–∫—Ü–∏–∏:**
- üìπ –ö–æ–ø–∏—Ä—É–µ—Ç –≤–∏–¥–µ–æ –≤ –ø–∞–ø–∫—É `/uploads/videos/`
- üñºÔ∏è –°–æ–∑–¥–∞–µ—Ç –ø—Ä–µ–≤—å—é –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –∫–∞–¥—Ä–∞ –≤–∏–¥–µ–æ
- üì¶ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø—É—Ç–∏ –∫ –≤–∏–¥–µ–æ –∏ –ø—Ä–µ–≤—å—é
- üë§ –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
const uploader = new VideoUploader();

await uploader.uploadProductWithVideo({
  videoPath: './my-video.mp4',
  title: "iPhone 15 Pro Max - –í–∏–¥–µ–æ–æ–±–∑–æ—Ä",
  description: "–û—Ç–ª–∏—á–Ω—ã–π iPhone 15 Pro Max –≤ –∏–¥–µ–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏...",
  price: 120000,
  sellerTelegramId: "123456789",
  sellerUsername: "tech_seller_pro"
});
```

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
backend/
‚îú‚îÄ‚îÄ uploads/
‚îÇ   ‚îî‚îÄ‚îÄ videos/
‚îÇ       ‚îú‚îÄ‚îÄ iphone_demo.mp4
‚îÇ       ‚îú‚îÄ‚îÄ iphone_demo_thumb.jpg
‚îÇ       ‚îú‚îÄ‚îÄ test_product.mp4
‚îÇ       ‚îî‚îÄ‚îÄ test_product_thumb.jpg
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ add-product.ts
‚îÇ   ‚îî‚îÄ‚îÄ upload-video.ts
‚îî‚îÄ‚îÄ prisma/
    ‚îî‚îÄ‚îÄ schema.prisma
```

### üé• –†–∞–±–æ—Ç–∞ —Å –≤–∏–¥–µ–æ

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- MP4 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- MOV
- AVI
- MKV
- WebM

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–≤—å—é:
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø–µ—Ä–≤—ã–π –∫–∞–¥—Ä –≤–∏–¥–µ–æ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∫ JPG
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç FFmpeg

#### –ü—É—Ç–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
- `videoUrl`: `/videos/filename.mp4`
- `previewUrl`: `/videos/filename_thumb.jpg`

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞–ø–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏:
–í `upload-video.ts` –∏–∑–º–µ–Ω–∏—Ç–µ:
```typescript
private uploadsDir = './uploads';
private videosDir = './uploads/videos';
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ FFmpeg:
–ö–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–≤—å—é:
```bash
ffmpeg -i "video.mp4" -ss 00:00:01.000 -vframes 1 "thumb.jpg" -y
```

### üåê –î–æ—Å—Ç—É–ø –∫ –≤–∏–¥–µ–æ

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ URL:
- –í–∏–¥–µ–æ: `http://localhost/videos/filename.mp4`
- –ü—Ä–µ–≤—å—é: `http://localhost/videos/filename_thumb.jpg`

### üì± –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å–∞–π—Ç–µ

1. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–≤—å—é –≤–∏–¥–µ–æ
2. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–∞** - –ø–æ–ª–Ω—ã–π –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä —Å –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏
3. **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –æ–ø–∏—Å–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –ø—Ä–æ–¥–∞–≤–µ—Ü

### üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã

```bash
# –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
npm run add-product

# –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã —Å –≤–∏–¥–µ–æ
npm run upload-video

# –ó–∞–ø–æ–ª–Ω–∏—Ç—å –±–∞–∑—É —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run seed

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
npm run prisma:studio
```

### üêõ –ü–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º

#### FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω:
```
‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ–≤—å—é (ffmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω)
```
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ FFmpeg (—Å–º. –≤—ã—à–µ)

#### –í–∏–¥–µ–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∏–¥–µ–æ –≤ –ø–∞–ø–∫–µ `uploads/videos/`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

#### –ü—Ä–µ–≤—å—é –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ FFmpeg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –≤–∏–¥–µ–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É

### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞: `docker logs fastelit-backend-1`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫: `ls -la uploads/videos/`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö: `npm run prisma:studio`

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã —Å –≤–∏–¥–µ–æ –∏ –ø—Ä–µ–≤—å—é! üéâ**
